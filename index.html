<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ü–∞—Ä–æ–ª–µ–π</title>
    <style>
        /* === –°—Ç–∏–ª–∏ (200+ —Å—Ç—Ä–æ–∫) === */
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #166088;
            --accent-color: #4fc3f7;
            --background-color: #f5f7fa;
            --text-color: #333;
            --error-color: #e74c3c;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin: 20px 0;
        }
        
        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5rem;
        }
        
        .description {
            text-align: center;
            margin-bottom: 30px;
            color: #666;
            font-size: 1.1rem;
        }
        
        .settings-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .settings-group {
            background: #f9f9f9;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        .settings-group h2 {
            color: var(--secondary-color);
            margin-bottom: 15px;
            font-size: 1.3rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        
        .option {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .option label {
            margin-left: 10px;
            cursor: pointer;
            flex-grow: 1;
        }
        
        .option input[type="checkbox"] {
            cursor: pointer;
            width: 18px;
            height: 18px;
        }
        
        .option input[type="number"] {
            width: 70px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-left: 10px;
        }
        
        .slider-container {
            width: 100%;
            margin-top: 10px;
        }
        
        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            margin-bottom: 15px;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
        }
        
        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
        }
        
        .btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
            text-align: center;
        }
        
        .btn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-large {
            padding: 15px 30px;
            font-size: 1.2rem;
        }
        
        .btn-block {
            display: block;
            width: 100%;
        }
        
        .result-container {
            margin-top: 30px;
        }
        
        .password-result {
            width: 100%;
            padding: 15px;
            font-size: 1.2rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            background: #f9f9f9;
            margin-bottom: 15px;
            word-break: break-all;
            text-align: center;
            font-family: 'Courier New', monospace;
        }
        
        .password-strength {
            height: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
            background: #eee;
            overflow: hidden;
        }
        
        .strength-bar {
            height: 100%;
            width: 0%;
            transition: all 0.3s ease;
        }
        
        .strength-weak {
            background-color: var(--error-color);
        }
        
        .strength-medium {
            background-color: var(--warning-color);
        }
        
        .strength-strong {
            background-color: var(--success-color);
        }
        
        .strength-very-strong {
            background-color: #27ae60;
        }
        
        .strength-label {
            text-align: center;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .password-history {
            margin-top: 30px;
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            background: #f9f9f9;
        }
        
        .history-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            font-family: 'Courier New', monospace;
            display: flex;
            justify-content: space-between;
        }
        
        .history-item:last-child {
            border-bottom: none;
        }
        
        .copy-btn {
            background: none;
            border: none;
            color: var(--primary-color);
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .copy-btn:hover {
            text-decoration: underline;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background: #f1f1f1;
            border: 1px solid #ddd;
            border-bottom: none;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
        }
        
        .tab.active {
            background: white;
            border-bottom: 1px solid white;
            margin-bottom: -1px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .advanced-options {
            margin-top: 20px;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 5px;
            border-left: 4px solid var(--primary-color);
        }
        
        .password-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .password-item {
            padding: 15px;
            background: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            font-family: 'Courier New', monospace;
            word-break: break-all;
            border: 1px solid #eee;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            color: #777;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .settings-panel {
                grid-template-columns: 1fr;
            }
            
            .password-list {
                grid-template-columns: 1fr;
            }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX */
        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 5px;
            color: var(--primary-color);
            cursor: help;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9rem;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∏–∫–æ–Ω–æ–∫ (–∏—Å–ø–æ–ª—å–∑—É–µ–º Unicode —Å–∏–º–≤–æ–ª—ã) */
        .icon {
            font-size: 1.2em;
            vertical-align: middle;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
        @media (prefers-color-scheme: dark) {
            :root {
                --background-color: #121212;
                --text-color: #e0e0e0;
                --primary-color: #bb86fc;
                --secondary-color: #3700b3;
                --accent-color: #03dac6;
            }
            
            body {
                background-color: var(--background-color);
            }
            
            .container, .settings-group, .password-result, .password-history, .password-item {
                background-color: #1e1e1e;
                color: var(--text-color);
            }
            
            .settings-group, .password-result, .password-history, .password-item {
                border-color: #333;
            }
            
            .option input[type="number"], .password-result {
                background-color: #2d2d2d;
                color: var(--text-color);
                border-color: #444;
            }
            
            .slider {
                background: #555;
            }
            
            .tab {
                background: #333;
                color: var(--text-color);
                border-color: #444;
            }
            
            .tab.active {
                background: #1e1e1e;
                color: var(--primary-color);
            }
            
            .advanced-options {
                background: #2d2d2d;
                border-left-color: var(--primary-color);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ü–∞—Ä–æ–ª–µ–π</h1>
        <p class="description">–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è –≤—Å–µ—Ö –≤–∞—à–∏—Ö —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π</p>
        
        <div class="tabs">
            <div class="tab active" onclick="openTab('simple')">–ü—Ä–æ—Å—Ç–æ–π</div>
            <div class="tab" onclick="openTab('advanced')">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π</div>
            <div class="tab" onclick="openTab('batch')">–ü–∞–∫–µ—Ç–Ω—ã–π</div>
        </div>
        
        <!-- –ü—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º -->
        <div id="simple" class="tab-content active">
            <div class="settings-panel">
                <div class="settings-group">
                    <h2>–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                    <div class="option">
                        <input type="number" id="length" min="4" max="128" value="12">
                        <label for="length">–î–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è</label>
                    </div>
                    <div class="slider-container">
                        <input type="range" min="4" max="128" value="12" class="slider" id="lengthSlider">
                    </div>
                    <div class="option">
                        <input type="checkbox" id="uppercase" checked>
                        <label for="uppercase">–ó–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã (A-Z)</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="lowercase" checked>
                        <label for="lowercase">–°—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã (a-z)</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="numbers" checked>
                        <label for="numbers">–¶–∏—Ñ—Ä—ã (0-9)</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="symbols" checked>
                        <label for="symbols">–°–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã (!@#$%^&*)</label>
                    </div>
                </div>
                
                <div class="settings-group">
                    <h2>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                    <div class="option">
                        <input type="checkbox" id="noSimilar" checked>
                        <label for="noSimilar">–ò—Å–∫–ª—é—á–∞—Ç—å –ø–æ—Ö–æ–∂–∏–µ —Å–∏–º–≤–æ–ª—ã (i,l,1,L,o,0,O)</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="noAmbiguous" checked>
                        <label for="noAmbiguous">–ò—Å–∫–ª—é—á–∞—Ç—å –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã ({ } [ ] ( ) / \ ' " ` ~ , ; : . &lt; >)</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="noSequential">
                        <label for="noSequential">–ò—Å–∫–ª—é—á–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã (123, abc)</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="noRepeating">
                        <label for="noRepeating">–ò—Å–∫–ª—é—á–∞—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å–∏–º–≤–æ–ª—ã (aa, 11)</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="requireAll">
                        <label for="requireAll">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∞—Ç—å –≤—Å–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã —Å–∏–º–≤–æ–ª–æ–≤</label>
                    </div>
                </div>
            </div>
            
            <button id="generateBtn" class="btn btn-large btn-block">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å</button>
            
            <div class="result-container">
                <div class="password-strength">
                    <div class="strength-bar" id="strengthBar"></div>
                </div>
                <div class="strength-label" id="strengthLabel">–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å: -</div>
                <textarea class="password-result" id="passwordResult" readonly></textarea>
                <button id="copyBtn" class="btn">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å</button>
                <button id="saveBtn" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏—é</button>
            </div>
            
            <div class="password-history" id="passwordHistory">
                <h3>–ò—Å—Ç–æ—Ä–∏—è –ø–∞—Ä–æ–ª–µ–π</h3>
                <div id="historyList"></div>
                <button id="clearHistoryBtn" class="btn">–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
            </div>
        </div>
        
        <!-- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Ä–µ–∂–∏–º -->
        <div id="advanced" class="tab-content">
            <div class="settings-panel">
                <div class="settings-group">
                    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏–º–≤–æ–ª–æ–≤</h2>
                    <div class="option">
                        <input type="number" id="advLength" min="4" max="256" value="16">
                        <label for="advLength">–î–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è</label>
                    </div>
                    <div class="option">
                        <input type="text" id="customChars" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–∏ —Å–∏–º–≤–æ–ª—ã">
                        <label for="customChars">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="excludeChars">
                        <label for="excludeChars">–ò—Å–∫–ª—é—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å–∏–º–≤–æ–ª—ã:</label>
                    </div>
                    <div class="option">
                        <input type="text" id="excludedChars" placeholder="i,l,1,L,o,0,O">
                    </div>
                </div>
                
                <div class="settings-group">
                    <h2>–®–∞–±–ª–æ–Ω—ã –ø–∞—Ä–æ–ª–µ–π</h2>
                    <div class="option">
                        <input type="text" id="passwordPattern" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: CccddssCccddss">
                        <label for="passwordPattern">–®–∞–±–ª–æ–Ω –ø–∞—Ä–æ–ª—è <span class="tooltip">?<span class="tooltiptext">C=–∑–∞–≥–ª–∞–≤–Ω–∞—è, c=—Å—Ç—Ä–æ—á–Ω–∞—è, d=—Ü–∏—Ñ—Ä–∞, s=—Å–ø–µ—Ü—Å–∏–º–≤–æ–ª</span></span></label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="usePattern">
                        <label for="usePattern">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="pronounceable">
                        <label for="pronounceable">–ü—Ä–æ–∏–∑–Ω–æ—Å–∏–º—ã–π –ø–∞—Ä–æ–ª—å</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="memorable">
                        <label for="memorable">–ó–∞–ø–æ–º–∏–Ω–∞—é—â–∏–π—Å—è –ø–∞—Ä–æ–ª—å</label>
                    </div>
                </div>
            </div>
            
            <div class="advanced-options">
                <h3>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏</h3>
                <div class="option">
                    <input type="number" id="minUpper" min="0" max="10" value="1">
                    <label for="minUpper">–ú–∏–Ω–∏–º—É–º –∑–∞–≥–ª–∞–≤–Ω—ã—Ö –±—É–∫–≤</label>
                </div>
                <div class="option">
                    <input type="number" id="minLower" min="0" max="10" value="1">
                    <label for="minLower">–ú–∏–Ω–∏–º—É–º —Å—Ç—Ä–æ—á–Ω—ã—Ö –±—É–∫–≤</label>
                </div>
                <div class="option">
                    <input type="number" id="minNumbers" min="0" max="10" value="1">
                    <label for="minNumbers">–ú–∏–Ω–∏–º—É–º —Ü–∏—Ñ—Ä</label>
                </div>
                <div class="option">
                    <input type="number" id="minSymbols" min="0" max="10" value="1">
                    <label for="minSymbols">–ú–∏–Ω–∏–º—É–º —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤</label>
                </div>
            </div>
            
            <button id="generateAdvBtn" class="btn btn-large btn-block">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø–∞—Ä–æ–ª—å</button>
            
            <div class="result-container">
                <div class="password-strength">
                    <div class="strength-bar" id="advStrengthBar"></div>
                </div>
                <div class="strength-label" id="advStrengthLabel">–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å: -</div>
                <textarea class="password-result" id="advPasswordResult" readonly></textarea>
                <button id="copyAdvBtn" class="btn">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å</button>
            </div>
        </div>
        
        <!-- –ü–∞–∫–µ—Ç–Ω—ã–π —Ä–µ–∂–∏–º -->
        <div id="batch" class="tab-content">
            <div class="settings-panel">
                <div class="settings-group">
                    <h2>–ü–∞–∫–µ—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è</h2>
                    <div class="option">
                        <input type="number" id="batchCount" min="1" max="100" value="10">
                        <label for="batchCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–æ–ª–µ–π</label>
                    </div>
                    <div class="option">
                        <input type="number" id="batchLength" min="4" max="64" value="12">
                        <label for="batchLength">–î–ª–∏–Ω–∞ –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–æ–ª—è</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="batchUnique" checked>
                        <label for="batchUnique">–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å</label>
                    </div>
                </div>
                
                <div class="settings-group">
                    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏–º–≤–æ–ª–æ–≤</h2>
                    <div class="option">
                        <input type="checkbox" id="batchUppercase" checked>
                        <label for="batchUppercase">–ó–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã (A-Z)</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="batchLowercase" checked>
                        <label for="batchLowercase">–°—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã (a-z)</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="batchNumbers" checked>
                        <label for="batchNumbers">–¶–∏—Ñ—Ä—ã (0-9)</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="batchSymbols" checked>
                        <label for="batchSymbols">–°–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã (!@#$%^&*)</label>
                    </div>
                </div>
            </div>
            
            <button id="generateBatchBtn" class="btn btn-large btn-block">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª–∏</button>
            
            <div class="result-container">
                <div class="password-list" id="batchPasswordList"></div>
                <button id="copyAllBtn" class="btn">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ</button>
                <button id="exportBtn" class="btn">–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ TXT</button>
            </div>
        </div>
    </div>
    
    <div class="footer">
        <p>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π v2.0 &copy; 2023 | –í—Å–µ –ø–∞—Ä–æ–ª–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ</p>
    </div>

    <script>
        // === JavaScript –∫–æ–¥ (800+ —Å—Ç—Ä–æ–∫) ===
        
        // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        const UPPERCASE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        const LOWERCASE = 'abcdefghijklmnopqrstuvwxyz';
        const NUMBERS = '0123456789';
        const SYMBOLS = '!@#$%^&*()_+-=[]{}|;:,.<>?';
        const SIMILAR_CHARS = 'il1Lo0O';
        const AMBIGUOUS_CHARS = '{}[]()/\\\'"`~,;:.<> ';
        
        let passwordHistory = JSON.parse(localStorage.getItem('passwordHistory')) || [];
        
        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const elements = {
            // –ü—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º
            length: document.getElementById('length'),
            lengthSlider: document.getElementById('lengthSlider'),
            uppercase: document.getElementById('uppercase'),
            lowercase: document.getElementById('lowercase'),
            numbers: document.getElementById('numbers'),
            symbols: document.getElementById('symbols'),
            noSimilar: document.getElementById('noSimilar'),
            noAmbiguous: document.getElementById('noAmbiguous'),
            noSequential: document.getElementById('noSequential'),
            noRepeating: document.getElementById('noRepeating'),
            requireAll: document.getElementById('requireAll'),
            generateBtn: document.getElementById('generateBtn'),
            passwordResult: document.getElementById('passwordResult'),
            copyBtn: document.getElementById('copyBtn'),
            saveBtn: document.getElementById('saveBtn'),
            strengthBar: document.getElementById('strengthBar'),
            strengthLabel: document.getElementById('strengthLabel'),
            historyList: document.getElementById('historyList'),
            clearHistoryBtn: document.getElementById('clearHistoryBtn'),
            
            // –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Ä–µ–∂–∏–º
            advLength: document.getElementById('advLength'),
            customChars: document.getElementById('customChars'),
            excludeChars: document.getElementById('excludeChars'),
            excludedChars: document.getElementById('excludedChars'),
            passwordPattern: document.getElementById('passwordPattern'),
            usePattern: document.getElementById('usePattern'),
            pronounceable: document.getElementById('pronounceable'),
            memorable: document.getElementById('memorable'),
            minUpper: document.getElementById('minUpper'),
            minLower: document.getElementById('minLower'),
            minNumbers: document.getElementById('minNumbers'),
            minSymbols: document.getElementById('minSymbols'),
            generateAdvBtn: document.getElementById('generateAdvBtn'),
            advPasswordResult: document.getElementById('advPasswordResult'),
            copyAdvBtn: document.getElementById('copyAdvBtn'),
            advStrengthBar: document.getElementById('advStrengthBar'),
            advStrengthLabel: document.getElementById('advStrengthLabel'),
            
            // –ü–∞–∫–µ—Ç–Ω—ã–π —Ä–µ–∂–∏–º
            batchCount: document.getElementById('batchCount'),
            batchLength: document.getElementById('batchLength'),
            batchUnique: document.getElementById('batchUnique'),
            batchUppercase: document.getElementById('batchUppercase'),
            batchLowercase: document.getElementById('batchLowercase'),
            batchNumbers: document.getElementById('batchNumbers'),
            batchSymbols: document.getElementById('batchSymbols'),
            generateBatchBtn: document.getElementById('generateBatchBtn'),
            batchPasswordList: document.getElementById('batchPasswordList'),
            copyAllBtn: document.getElementById('copyAllBtn'),
            exportBtn: document.getElementById('exportBtn')
        };
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            // –°–≤—è–∑—ã–≤–∞–µ–º —Å–ª–∞–π–¥–µ—Ä –∏ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –¥–ª–∏–Ω—ã
            elements.lengthSlider.addEventListener('input', function() {
                elements.length.value = this.value;
            });
            
            elements.length.addEventListener('input', function() {
                elements.lengthSlider.value = this.value;
            });
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è –≤ –ø—Ä–æ—Å—Ç–æ–º —Ä–µ–∂–∏–º–µ
            elements.generateBtn.addEventListener('click', generatePassword);
            
            // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è
            elements.copyBtn.addEventListener('click', copyPassword);
            elements.copyAdvBtn.addEventListener('click', copyAdvPassword);
            elements.copyAllBtn.addEventListener('click', copyAllPasswords);
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –≤ –∏—Å—Ç–æ—Ä–∏—é
            elements.saveBtn.addEventListener('click', saveToHistory);
            
            // –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
            elements.clearHistoryBtn.addEventListener('click', clearHistory);
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–º —Ä–µ–∂–∏–º–µ
            elements.generateAdvBtn.addEventListener('click', generateAdvancedPassword);
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤ –ø–∞–∫–µ—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ
            elements.generateBatchBtn.addEventListener('click', generateBatchPasswords);
            
            // –≠–∫—Å–ø–æ—Ä—Ç –ø–∞—Ä–æ–ª–µ–π
            elements.exportBtn.addEventListener('click', exportPasswords);
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
            loadHistory();
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è
            generatePassword();
        });
        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–∫–ª–∞–¥–∫–∞–º–∏
        function openTab(tabName) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
            const tabContents = document.getElementsByClassName('tab-content');
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove('active');
            }
            
            // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –≤–∫–ª–∞–¥–æ–∫
            const tabs = document.getElementsByClassName('tab');
            for (let i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove('active');
            }
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –≤–∫–ª–∞–¥–∫—É –∏ —Å–¥–µ–ª–∞—Ç—å –∫–Ω–æ–ø–∫—É –∞–∫—Ç–∏–≤–Ω–æ–π
            document.getElementById(tabName).classList.add('active');
            event.currentTarget.classList.add('active');
        }
        
        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª—è
        function generatePassword() {
            let length = parseInt(elements.length.value);
            let charset = '';
            let password = '';
            
            // –°–æ–±–∏—Ä–∞–µ–º –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –æ–ø—Ü–∏–π
            if (elements.uppercase.checked) {
                charset += UPPERCASE;
            }
            if (elements.lowercase.checked) {
                charset += LOWERCASE;
            }
            if (elements.numbers.checked) {
                charset += NUMBERS;
            }
            if (elements.symbols.checked) {
                charset += SYMBOLS;
            }
            
            // –ò—Å–∫–ª—é—á–∞–µ–º –ø–æ—Ö–æ–∂–∏–µ —Å–∏–º–≤–æ–ª—ã
            if (elements.noSimilar.checked && charset.length > 0) {
                for (let char of SIMILAR_CHARS) {
                    charset = charset.replace(new RegExp(char, 'g'), '');
                }
            }
            
            // –ò—Å–∫–ª—é—á–∞–µ–º –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
            if (elements.noAmbiguous.checked && charset.length > 0) {
                for (let char of AMBIGUOUS_CHARS) {
                    charset = charset.replace(new RegExp('\\' + char, 'g'), '');
                }
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤ –≤—ã–±—Ä–∞–Ω
            if (charset.length === 0) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ç–∏–ø —Å–∏–º–≤–æ–ª–æ–≤!');
                return;
            }
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è
            if (elements.requireAll.checked) {
                password = generatePasswordWithAllRequirements(length, charset);
            } else {
                for (let i = 0; i < length; i++) {
                    const randomIndex = Math.floor(Math.random() * charset.length);
                    password += charset[randomIndex];
                }
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
            if (elements.noSequential.checked) {
                password = removeSequentialChars(password);
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å–∏–º–≤–æ–ª—ã
            if (elements.noRepeating.checked) {
                password = removeRepeatingChars(password);
            }
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            elements.passwordResult.value = password;
            
            // –û—Ü–µ–Ω–∏–≤–∞–µ–º –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å
            evaluatePasswordStrength(password, elements.strengthBar, elements.strengthLabel);
        }
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –≤–∫–ª—é—á–µ–Ω–∏–µ–º –≤—Å–µ—Ö –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–∏–º–≤–æ–ª–æ–≤
        function generatePasswordWithAllRequirements(length, charset) {
            let password = '';
            const requiredChars = [];
            
            if (elements.uppercase.checked) {
                const randomIndex = Math.floor(Math.random() * UPPERCASE.length);
                requiredChars.push(UPPERCASE[randomIndex]);
            }
            if (elements.lowercase.checked) {
                const randomIndex = Math.floor(Math.random() * LOWERCASE.length);
                requiredChars.push(LOWERCASE[randomIndex]);
            }
            if (elements.numbers.checked) {
                const randomIndex = Math.floor(Math.random() * NUMBERS.length);
                requiredChars.push(NUMBERS[randomIndex]);
            }
            if (elements.symbols.checked) {
                const randomIndex = Math.floor(Math.random() * SYMBOLS.length);
                requiredChars.push(SYMBOLS[randomIndex]);
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
            for (let char of requiredChars) {
                password += char;
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
            for (let i = password.length; i < length; i++) {
                const randomIndex = Math.floor(Math.random() * charset.length);
                password += charset[randomIndex];
            }
            
            // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –ø–∞—Ä–æ–ª—å
            return shuffleString(password);
        }
        
        // –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ (abc, 123 –∏ —Ç.–¥.)
        function removeSequentialChars(password) {
            const sequentialPatterns = [
                '0123456789',
                'abcdefghijklmnopqrstuvwxyz',
                'zyxwvutsrqponmlkjihgfedcba',
                ')!@#$%^&*('
            ];
            
            for (let pattern of sequentialPatterns) {
                for (let i = 0; i <= pattern.length - 3; i++) {
                    const sequence = pattern.substr(i, 3);
                    if (password.toLowerCase().includes(sequence)) {
                        const randomIndex = Math.floor(Math.random() * password.length);
                        const replacement = getRandomCharFromCharset(getCurrentCharset());
                        password = password.substring(0, randomIndex) + replacement + password.substring(randomIndex + 1);
                        i = -1; // –ù–∞—á–∏–Ω–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –∑–∞–Ω–æ–≤–æ
                        break;
                    }
                }
            }
            
            return password;
        }
        
        // –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å–∏–º–≤–æ–ª–æ–≤ (aa, 11 –∏ —Ç.–¥.)
        function removeRepeatingChars(password) {
            for (let i = 0; i < password.length - 1; i++) {
                if (password[i] === password[i + 1]) {
                    const replacement = getRandomCharFromCharset(getCurrentCharset());
                    password = password.substring(0, i + 1) + replacement + password.substring(i + 2);
                    i = -1; // –ù–∞—á–∏–Ω–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –∑–∞–Ω–æ–≤–æ
                }
            }
            return password;
        }
        
        // –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –Ω–∞–±–æ—Ä–∞ —Å–∏–º–≤–æ–ª–æ–≤
        function getCurrentCharset() {
            let charset = '';
            
            if (elements.uppercase.checked) {
                charset += UPPERCASE;
            }
            if (elements.lowercase.checked) {
                charset += LOWERCASE;
            }
            if (elements.numbers.checked) {
                charset += NUMBERS;
            }
            if (elements.symbols.checked) {
                charset += SYMBOLS;
            }
            
            // –ò—Å–∫–ª—é—á–∞–µ–º –ø–æ—Ö–æ–∂–∏–µ —Å–∏–º–≤–æ–ª—ã
            if (elements.noSimilar.checked && charset.length > 0) {
                for (let char of SIMILAR_CHARS) {
                    charset = charset.replace(new RegExp(char, 'g'), '');
                }
            }
            
            // –ò—Å–∫–ª—é—á–∞–µ–º –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
            if (elements.noAmbiguous.checked && charset.length > 0) {
                for (let char of AMBIGUOUS_CHARS) {
                    charset = charset.replace(new RegExp('\\' + char, 'g'), '');
                }
            }
            
            return charset;
        }
        
        // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –∏–∑ –Ω–∞–±–æ—Ä–∞
        function getRandomCharFromCharset(charset) {
            if (charset.length === 0) return '';
            const randomIndex = Math.floor(Math.random() * charset.length);
            return charset[randomIndex];
        }
        
        // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏
        function shuffleString(str) {
            const array = str.split('');
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array.join('');
        }
        
        // –û—Ü–µ–Ω–∫–∞ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ä–æ–ª—è
        function evaluatePasswordStrength(password, strengthBar, strengthLabel) {
            let score = 0;
            
            if (!password) {
                strengthBar.style.width = '0%';
                strengthLabel.textContent = '–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å: -';
                return;
            }
            
            const length = password.length;
            
            // –û—Ü–µ–Ω–∫–∞ –∑–∞ –¥–ª–∏–Ω—É
            if (length < 8) score = 0;
            else if (length < 12) score = length * 3;
            else if (length < 16) score = length * 4;
            else score = length * 5;
            
            // –ë–æ–Ω—É—Å—ã –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–∏–º–≤–æ–ª–æ–≤
            const hasUpper = /[A-Z]/.test(password);
            const hasLower = /[a-z]/.test(password);
            const hasNumber = /[0-9]/.test(password);
            const hasSymbol = /[^A-Za-z0-9]/.test(password);
            
            const charTypes = [hasUpper, hasLower, hasNumber, hasSymbol].filter(Boolean).length;
            
            if (charTypes >= 2) score += 10;
            if (charTypes >= 3) score += 15;
            if (charTypes >= 4) score += 25;
            
            // –®—Ç—Ä–∞—Ñ—ã –∑–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è
            const sequentialRegex = /(abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz|012|123|234|345|456|567|678|789|890)/i;
            if (sequentialRegex.test(password)) score -= 30;
            
            const repeatingRegex = /(.)\1{2,}/;
            if (repeatingRegex.test(password)) score -= 20;
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 0-100
            score = Math.max(0, Math.min(100, score));
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —à–∏—Ä–∏–Ω—É –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
            strengthBar.style.width = score + '%';
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–≤–µ—Ç –∏ —Ç–µ–∫—Å—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ—Ü–µ–Ω–∫–∏
            if (score < 30) {
                strengthBar.className = 'strength-bar strength-weak';
                strengthLabel.textContent = '–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å: –°–ª–∞–±–∞—è';
            } else if (score < 60) {
                strengthBar.className = 'strength-bar strength-medium';
                strengthLabel.textContent = '–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å: –°—Ä–µ–¥–Ω—è—è';
            } else if (score < 80) {
                strengthBar.className = 'strength-bar strength-strong';
                strengthLabel.textContent = '–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å: –°–∏–ª—å–Ω–∞—è';
            } else {
                strengthBar.className = 'strength-bar strength-very-strong';
                strengthLabel.textContent = '–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å: –û—á–µ–Ω—å —Å–∏–ª—å–Ω–∞—è';
            }
        }
        
        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
        function copyPassword() {
            const password = elements.passwordResult.value;
            if (!password) {
                alert('–°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø–∞—Ä–æ–ª—å!');
                return;
            }
            
            navigator.clipboard.writeText(password).then(() => {
                alert('–ü–∞—Ä–æ–ª—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            }).catch(err => {
                console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ', err);
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
            });
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –≤ –∏—Å—Ç–æ—Ä–∏—é
        function saveToHistory() {
            const password = elements.passwordResult.value;
            if (!password) {
                alert('–°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø–∞—Ä–æ–ª—å!');
                return;
            }
            
            const timestamp = new Date().toLocaleString();
            passwordHistory.unshift({ password, timestamp });
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é 50 –∑–∞–ø–∏—Å—è–º–∏
            if (passwordHistory.length > 50) {
                passwordHistory = passwordHistory.slice(0, 50);
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            localStorage.setItem('passwordHistory', JSON.stringify(passwordHistory));
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏
            loadHistory();
            
            alert('–ü–∞—Ä–æ–ª—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –∏—Å—Ç–æ—Ä–∏—é!');
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –ø–∞—Ä–æ–ª–µ–π
        function loadHistory() {
            elements.historyList.innerHTML = '';
            
            if (passwordHistory.length === 0) {
                elements.historyList.innerHTML = '<p>–ò—Å—Ç–æ—Ä–∏—è –ø–∞—Ä–æ–ª–µ–π –ø—É—Å—Ç–∞</p>';
                return;
            }
            
            passwordHistory.forEach((item, index) => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.innerHTML = `
                    <span>${item.password}</span>
                    <span>
                        <small>${item.timestamp}</small>
                        <button class="copy-btn" onclick="copyHistoryPassword(${index})">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    </span>
                `;
                elements.historyList.appendChild(historyItem);
            });
        }
        
        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
        function copyHistoryPassword(index) {
            const password = passwordHistory[index].password;
            navigator.clipboard.writeText(password).then(() => {
                alert('–ü–∞—Ä–æ–ª—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            }).catch(err => {
                console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ', err);
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
            });
        }
        
        // –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
        function clearHistory() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–∞—Ä–æ–ª–µ–π?')) {
                passwordHistory = [];
                localStorage.setItem('passwordHistory', JSON.stringify(passwordHistory));
                loadHistory();
            }
        }
        
        // === –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ===
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è –≤ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–º —Ä–µ–∂–∏–º–µ
        function generateAdvancedPassword() {
            let length = parseInt(elements.advLength.value);
            let charset = '';
            
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã, –µ—Å–ª–∏ –æ–Ω–∏ –∑–∞–¥–∞–Ω—ã
            if (elements.customChars.value.trim() !== '') {
                charset = elements.customChars.value;
            } else {
                // –ò–Ω–∞—á–µ —Å–æ–±–∏—Ä–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –Ω–∞–±–æ—Ä
                if (elements.uppercase.checked) charset += UPPERCASE;
                if (elements.lowercase.checked) charset += LOWERCASE;
                if (elements.numbers.checked) charset += NUMBERS;
                if (elements.symbols.checked) charset += SYMBOLS;
            }
            
            // –ò—Å–∫–ª—é—á–∞–µ–º —Å–∏–º–≤–æ–ª—ã, –µ—Å–ª–∏ –∑–∞–¥–∞–Ω–æ
            if (elements.excludeChars.checked && elements.excludedChars.value.trim() !== '') {
                const excluded = elements.excludedChars.value;
                for (let char of excluded) {
                    charset = charset.replace(new RegExp('\\' + char, 'g'), '');
                }
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç–æ–π –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤
            if (charset.length === 0) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Å–∏–º–≤–æ–ª—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª—è!');
                return;
            }
            
            let password = '';
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ —à–∞–±–ª–æ–Ω—É
            if (elements.usePattern.checked && elements.passwordPattern.value.trim() !== '') {
                password = generateFromPattern(elements.passwordPattern.value, charset);
            } 
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–∏–∑–Ω–æ—Å–∏–º–æ–≥–æ –ø–∞—Ä–æ–ª—è
            else if (elements.pronounceable.checked) {
                password = generatePronounceablePassword(length);
            } 
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–ø–æ–º–∏–Ω–∞—é—â–µ–≥–æ—Å—è –ø–∞—Ä–æ–ª—è
            else if (elements.memorable.checked) {
                password = generateMemorablePassword(length);
            } 
            // –û–±—ã—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
            else {
                password = generateWithMinRequirements(length, charset);
            }
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            elements.advPasswordResult.value = password;
            
            // –û—Ü–µ–Ω–∏–≤–∞–µ–º –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å
            evaluatePasswordStrength(password, elements.advStrengthBar, elements.advStrengthLabel);
        }
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è –ø–æ —à–∞–±–ª–æ–Ω—É
        function generateFromPattern(pattern, charset) {
            let password = '';
            const patternCodes = pattern.split('');
            
            // –†–∞–∑–¥–µ–ª—è–µ–º charset –Ω–∞ –≥—Ä—É–ø–ø—ã
            const upperChars = charset.match(/[A-Z]/g) || [];
            const lowerChars = charset.match(/[a-z]/g) || [];
            const numberChars = charset.match(/[0-9]/g) || [];
            const symbolChars = charset.replace(/[A-Za-z0-9]/g, '').split('').filter(c => c);
            
            for (let code of patternCodes) {
                switch (code) {
                    case 'C': // –ó–∞–≥–ª–∞–≤–Ω–∞—è –±—É–∫–≤–∞
                        if (upperChars.length > 0) {
                            password += upperChars[Math.floor(Math.random() * upperChars.length)];
                        } else {
                            password += getRandomCharFromCharset(charset);
                        }
                        break;
                    case 'c': // –°—Ç—Ä–æ—á–Ω–∞—è –±—É–∫–≤–∞
                        if (lowerChars.length > 0) {
                            password += lowerChars[Math.floor(Math.random() * lowerChars.length)];
                        } else {
                            password += getRandomCharFromCharset(charset);
                        }
                        break;
                    case 'd': // –¶–∏—Ñ—Ä–∞
                        if (numberChars.length > 0) {
                            password += numberChars[Math.floor(Math.random() * numberChars.length)];
                        } else {
                            password += getRandomCharFromCharset(charset);
                        }
                        break;
                    case 's': // –°–ø–µ—Ü—Å–∏–º–≤–æ–ª
                        if (symbolChars.length > 0) {
                            password += symbolChars[Math.floor(Math.random() * symbolChars.length)];
                        } else {
                            password += getRandomCharFromCharset(charset);
                        }
                        break;
                    default: // –õ—é–±–æ–π —Å–∏–º–≤–æ–ª
                        password += getRandomCharFromCharset(charset);
                }
            }
            
            return password;
        }
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–∏–∑–Ω–æ—Å–∏–º–æ–≥–æ –ø–∞—Ä–æ–ª—è
        function generatePronounceablePassword(length) {
            const vowels = 'aeiouy';
            const consonants = 'bcdfghjklmnpqrstvwxz';
            let password = '';
            
            // –ù–∞—á–∏–Ω–∞–µ–º —Å —Å–æ–≥–ª–∞—Å–Ω–æ–π –∏–ª–∏ –≥–ª–∞—Å–Ω–æ–π
            let useVowel = Math.random() > 0.5;
            
            for (let i = 0; i < length; i++) {
                if (useVowel) {
                    password += vowels[Math.floor(Math.random() * vowels.length)];
                } else {
                    password += consonants[Math.floor(Math.random() * consonants.length)];
                }
                
                // 80% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ —Å–º–µ–Ω—ã —Ç–∏–ø–∞ —Å–∏–º–≤–æ–ª–∞
                useVowel = Math.random() < 0.8 ? !useVowel : useVowel;
            }
            
            // –° 50% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –¥–µ–ª–∞–µ–º –ø–µ—Ä–≤—É—é –±—É–∫–≤—É –∑–∞–≥–ª–∞–≤–Ω–æ–π
            if (Math.random() > 0.5) {
                password = password.charAt(0).toUpperCase() + password.slice(1);
            }
            
            // –° 30% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –¥–æ–±–∞–≤–ª—è–µ–º —Ü–∏—Ñ—Ä—É –≤ –∫–æ–Ω–µ—Ü
            if (Math.random() < 0.3) {
                password += Math.floor(Math.random() * 10);
            }
            
            return password;
        }
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–ø–æ–º–∏–Ω–∞—é—â–µ–≥–æ—Å—è –ø–∞—Ä–æ–ª—è
        function generateMemorablePassword(length) {
            const wordList = [
                'apple', 'banana', 'carrot', 'dog', 'elephant', 'flower', 'giraffe', 
                'house', 'island', 'jungle', 'kangaroo', 'lion', 'mountain', 'notebook',
                'ocean', 'pencil', 'queen', 'river', 'sun', 'tree', 'umbrella', 'volcano',
                'water', 'xylophone', 'yellow', 'zebra'
            ];
            
            const separatorList = ['-', '_', '.', '!', '@', '#', '$', '%', '&', '*'];
            
            let password = '';
            const wordCount = Math.max(2, Math.floor(length / 5));
            
            // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ —Å–ª–æ–≤–∞
            for (let i = 0; i < wordCount; i++) {
                const randomWord = wordList[Math.floor(Math.random() * wordList.length)];
                
                // –° 50% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –¥–µ–ª–∞–µ–º –ø–µ—Ä–≤—É—é –±—É–∫–≤—É –∑–∞–≥–ª–∞–≤–Ω–æ–π
                if (Math.random() > 0.5) {
                    password += randomWord.charAt(0).toUpperCase() + randomWord.slice(1);
                } else {
                    password += randomWord;
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–ª–æ–≤–æ
                if (i < wordCount - 1) {
                    const randomSeparator = separatorList[Math.floor(Math.random() * separatorList.length)];
                    password += randomSeparator;
                }
            }
            
            // –ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π, –¥–æ–±–∞–≤–ª—è–µ–º —Ü–∏—Ñ—Ä—ã
            if (password.length < length) {
                const neededDigits = length - password.length;
                for (let i = 0; i < neededDigits; i++) {
                    password += Math.floor(Math.random() * 10);
                }
            }
            
            // –ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π, –æ–±—Ä–µ–∑–∞–µ–º
            if (password.length > length) {
                password = password.substring(0, length);
            }
            
            return password;
        }
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏
        function generateWithMinRequirements(length, charset) {
            let password = '';
            const minUpper = parseInt(elements.minUpper.value) || 0;
            const minLower = parseInt(elements.minLower.value) || 0;
            const minNumbers = parseInt(elements.minNumbers.value) || 0;
            const minSymbols = parseInt(elements.minSymbols.value) || 0;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
            for (let i = 0; i < minUpper; i++) {
                const upperChars = charset.match(/[A-Z]/g) || [];
                if (upperChars.length > 0) {
                    password += upperChars[Math.floor(Math.random() * upperChars.length)];
                } else {
                    password += getRandomCharFromCharset(charset);
                }
            }
            
            for (let i = 0; i < minLower; i++) {
                const lowerChars = charset.match(/[a-z]/g) || [];
                if (lowerChars.length > 0) {
                    password += lowerChars[Math.floor(Math.random() * lowerChars.length)];
                } else {
                    password += getRandomCharFromCharset(charset);
                }
            }
            
            for (let i = 0; i < minNumbers; i++) {
                const numberChars = charset.match(/[0-9]/g) || [];
                if (numberChars.length > 0) {
                    password += numberChars[Math.floor(Math.random() * numberChars.length)];
                } else {
                    password += getRandomCharFromCharset(charset);
                }
            }
            
            for (let i = 0; i < minSymbols; i++) {
                const symbolChars = charset.replace(/[A-Za-z0-9]/g, '').split('').filter(c => c);
                if (symbolChars.length > 0) {
                    password += symbolChars[Math.floor(Math.random() * symbolChars.length)];
                } else {
                    password += getRandomCharFromCharset(charset);
                }
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
            for (let i = password.length; i < length; i++) {
                password += getRandomCharFromCharset(charset);
            }
            
            // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –ø–∞—Ä–æ–ª—å
            return shuffleString(password);
        }
        
        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è –∏–∑ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ —Ä–µ–∂–∏–º–∞
        function copyAdvPassword() {
            const password = elements.advPasswordResult.value;
            if (!password) {
                alert('–°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø–∞—Ä–æ–ª—å!');
                return;
            }
            
            navigator.clipboard.writeText(password).then(() => {
                alert('–ü–∞—Ä–æ–ª—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            }).catch(err => {
                console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ', err);
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
            });
        }
        
        // === –ü–∞–∫–µ—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª–µ–π ===
        
        function generateBatchPasswords() {
            const count = parseInt(elements.batchCount.value) || 10;
            const length = parseInt(elements.batchLength.value) || 12;
            const unique = elements.batchUnique.checked;
            
            // –°–æ–±–∏—Ä–∞–µ–º –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤
            let charset = '';
            if (elements.batchUppercase.checked) charset += UPPERCASE;
            if (elements.batchLowercase.checked) charset += LOWERCASE;
            if (elements.batchNumbers.checked) charset += NUMBERS;
            if (elements.batchSymbols.checked) charset += SYMBOLS;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç–æ–π –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤
            if (charset.length === 0) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ç–∏–ø —Å–∏–º–≤–æ–ª–æ–≤!');
                return;
            }
            
            elements.batchPasswordList.innerHTML = '';
            const passwords = [];
            
            for (let i = 0; i < count; i++) {
                let password;
                let attempts = 0;
                const maxAttempts = 100;
                
                do {
                    password = '';
                    for (let j = 0; j < length; j++) {
                        password += charset[Math.floor(Math.random() * charset.length)];
                    }
                    attempts++;
                } while (unique && passwords.includes(password) && attempts < maxAttempts);
                
                if (attempts >= maxAttempts) {
                    alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–ª–∏–Ω—É –∏–ª–∏ —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ.');
                    return;
                }
                
                passwords.push(password);
                
                const passwordItem = document.createElement('div');
                passwordItem.className = 'password-item';
                passwordItem.textContent = password;
                elements.batchPasswordList.appendChild(passwordItem);
            }
        }
        
        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–∞—Ä–æ–ª–µ–π
        function copyAllPasswords() {
            const passwordItems = elements.batchPasswordList.querySelectorAll('.password-item');
            if (passwordItems.length === 0) {
                alert('–°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø–∞—Ä–æ–ª–∏!');
                return;
            }
            
            let passwordsText = '';
            passwordItems.forEach(item => {
                passwordsText += item.textContent + '\n';
            });
            
            navigator.clipboard.writeText(passwordsText.trim()).then(() => {
                alert('–í—Å–µ –ø–∞—Ä–æ–ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            }).catch(err => {
                console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ', err);
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
            });
        }
        
        // –≠–∫—Å–ø–æ—Ä—Ç –ø–∞—Ä–æ–ª–µ–π –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
        function exportPasswords() {
            const passwordItems = elements.batchPasswordList.querySelectorAll('.password-item');
            if (passwordItems.length === 0) {
                alert('–°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø–∞—Ä–æ–ª–∏!');
                return;
            }
            
            let passwordsText = '–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–æ–ª–∏:\n\n';
            passwordItems.forEach((item, index) => {
                passwordsText += `${index + 1}. ${item.textContent}\n`;
            });
            
            const blob = new Blob([passwordsText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = 'passwords.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
